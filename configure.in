AC_INIT(README)

PACKAGE=fribidi
VERSION=0.9.0

AM_INIT_AUTOMAKE($PACKAGE, $VERSION)

AM_CONFIG_HEADER(config.h)

NO_GLIB_HEADERS=""
AC_SUBST(NO_GLIB_HEADERS)

dnl Initialize libtool
AM_PROG_LIBTOOL

dnl Checks for programs.
AC_PROG_CC
AC_PROG_INSTALL
AC_PROG_MAKE_SET

AM_PATH_GLIB_2_0(1.2.0,
  [GLIB_CFLAGS_OLD="$GLIB_CFLAGS"
   GLIB_LIBS_OLD="$GLIB_LIBS"
   AM_PATH_GLIB_2_0(1.3.1,,
   [GLIB_CFLAGS="$GLIB_CLFAGS_OLD"
    GLIB_LIBS="$GLIB_LIBS_OLD"
   ])
  ],
  [GLIB_CFLAGS="-DFRIBIDI_USE_MINI_GLIB"
   GLIB_LIBS="-L. -lfribidi_mini_glib"
   NO_GLIB_HEADERS="fribidi_mini_glib.h"])

AC_OUTPUT([
Makefile
fribidi-config
],[case "$CONFIG_FILES" in
*fribidi-config*)chmod +x fribidi-config;;
esac])
